<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Animated Product Gallery</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

<style>
:root{
  --bg:#f6f7fb;
  --card-bg:#ffffff;
  --accent:#111827;
  --muted:#6b7280;
  --shadow:0 10px 30px rgba(16,24,40,0.08);
  --shadow-strong:0 20px 40px rgba(16,24,40,0.12);
  --radius:14px;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui;
  background:var(--bg);
  color:var(--accent);
}

header{
  padding:48px 20px 20px;
  text-align:center;
}
header p{color:var(--muted)}

.grid{
  width:min(1200px,94%);
  margin:36px auto 80px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:24px;
}

.card{
  background:var(--card-bg);
  border-radius:var(--radius);
  padding:14px;
  position:relative;
  box-shadow:var(--shadow);
  will-change:transform;
}

.card:hover{
  box-shadow:var(--shadow-strong);
}

.media{
  height:160px;
  border-radius:10px;
  overflow:hidden;
  position:relative;
  background:#f8fafc;
}

.media img{
  width:110%;
  height:100%;
  object-fit:cover;
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
}

.meta{
  padding:12px 6px 6px;
}
.title{font-weight:600;font-size:16px}
.desc{color:var(--muted);font-size:13px}
.bottom{
  margin-top:8px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.price{font-weight:700}
.cta{
  padding:8px 12px;
  background:var(--accent);
  color:white;
  font-size:13px;
  border-radius:8px;
  text-decoration:none;
}

.badge{
  position:absolute;
  top:12px;
  left:12px;
  background:rgba(17,24,39,.9);
  color:#fff;
  font-size:12px;
  padding:6px 8px;
  border-radius:8px;
}

footer{
  text-align:center;
  padding:20px;
  background:black;
  color:white;
  font-size:14px;
}
</style>
</head>

<body>

<header>
  <h1>Animated Product Gallery</h1>
  <p>Hover or tap — smooth, stable, premium interaction</p>
</header>

<main class="grid" id="grid">

<!-- CARD 1 -->
<article class="card">
  <div class="badge">New</div>
  <div class="media">
    <img src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&fit=crop&w=1200&q=80">
  </div>
  <div class="meta">
    <div class="title">Premium Headphones</div>
    <div class="desc">Studio-grade sound with active noise cancellation.</div>
    <div class="bottom">
      <div class="price">$199</div>
      <a class="cta" href="#">Details</a>
    </div>
  </div>
</article>

<!-- CARD 2 -->
<article class="card">
  <div class="media">
    <img src="https://images.samsung.com/is/image/samsung/p6pim/za/feature/others/za-feature-galaxy-watch7-l310-545313465?$FB_TYPE_A_MO_JPG$">
  </div>
  <div class="meta">
    <div class="title">Smart Watch</div>
    <div class="desc">Fitness tracking with elegant design.</div>
    <div class="bottom">
      <div class="price">$149</div>
      <a class="cta" href="#">Details</a>
    </div>
  </div>
</article>

<!-- CARD 3 -->
<article class="card">
  <div class="media">
    <img src="https://images2.ray-ban.com//cdn-record-files-pi/ad0764ab-4725-4da4-9a38-aa6201226b59/424ac35e-7b2d-4e0f-97a2-acfd00530e31/0RB2140F__901_R6__STD__shad__qt.png">
  </div>
  <div class="meta">
    <div class="title">Modern Sunglasses</div>
    <div class="desc">Polarized lenses with lightweight frames.</div>
    <div class="bottom">
      <div class="price">$79</div>
      <a class="cta" href="#">Details</a>
    </div>
  </div>
</article>

<!-- CARD 4 -->
<article class="card">
  <div class="media">
    <img src="https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?auto=format&fit=crop&w=1200&q=80">
  </div>
  <div class="meta">
    <div class="title">Compact Camera</div>
    <div class="desc">Exceptional low-light performance.</div>
    <div class="bottom">
      <div class="price">$399</div>
      <a class="cta" href="#">Details</a>
    </div>
  </div>
</article>

<!-- CARD 5 -->
<article class="card">
  <div class="media">
    <img src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=1200&q=80">
  </div>
  <div class="meta">
    <div class="title">Running Sneakers</div>
    <div class="desc">Cushioned midsole for long distance comfort.</div>
    <div class="bottom">
      <div class="price">$129</div>
      <a class="cta" href="#">Details</a>
    </div>
  </div>
</article>

</main>

<footer>© 2025 Muksith — All rights reserved</footer>

<script>
gsap.registerPlugin(ScrollTrigger);

const cards = document.querySelectorAll(".card");
const isTouch = "ontouchstart" in window || navigator.maxTouchPoints > 0;

function map(v,i1,i2,o1,o2){
  return o1+(o2-o1)*((v-i1)/(i2-i1));
}

// Reveal animation
gsap.from(".card",{
  y:30,
  opacity:0,
  stagger:0.08,
  duration:0.75,
  ease:"power3.out",
  scrollTrigger:{trigger:"#grid",start:"top 85%"}
});

cards.forEach(card=>{
  const img = card.querySelector("img");

  if(!isTouch){
    card.addEventListener("pointerenter",()=>{
      gsap.to(card,{y:-8,duration:.3,ease:"power3.out"});
    });

    card.addEventListener("pointermove",e=>{
      const r = card.getBoundingClientRect();
      const dx = e.clientX-(r.left+r.width/2);
      const dy = e.clientY-(r.top+r.height/2);

      gsap.to(card,{
        rotationX:map(dy,-r.height/2,r.height/2,6,-6),
        rotationY:map(dx,-r.width/2,r.width/2,-6,6),
        transformPerspective:600,
        duration:.3
      });

      gsap.to(img,{
        x:map(dx,-r.width/2,r.width/2,12,-12),
        y:map(dy,-r.height/2,r.height/2,10,-10),
        scale:1.06,
        duration:.4
      });
    });

    card.addEventListener("pointerleave",()=>{
      gsap.to(card,{y:0,rotationX:0,rotationY:0,duration:.5});
      gsap.to(img,{x:0,y:0,scale:1,duration:.5});
    });
  } else {
    card.addEventListener("click",()=>{
      gsap.to(card,{y:-6,duration:.25});
      gsap.delayedCall(.25,()=>gsap.to(card,{y:0,duration:.35}));
    });
  }
});
</script>

</body>
</html>
